{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sergiorios/Documents/Serch/VENTURE/venturev2/VentureApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sergiorios/Documents/Serch/VENTURE/venturev2/VentureApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/sergiorios/Documents/Serch/VENTURE/venturev2/VentureApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/sergiorios/Documents/Serch/VENTURE/venturev2/VentureApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sergiorios/Documents/Serch/VENTURE/venturev2/VentureApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useState,useContext,Fragment}from\"react\";import{Redirect}from\"react-router-dom\";import userContext from\"../../context/user/userContext\";var Login=function Login(){var userCont=useContext(userContext);var saveTokenFn=userCont.saveTokenFn,token=userCont.token;//State\nvar _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],saveUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],changeError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),userError=_useState6[0],changeUserError=_useState6[1];var email=user.email,password=user.password;var onChangePage=function onChangePage(e){saveUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmitToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(email.trim()===\"\"||password.trim()===\"\")){_context.next=3;break;}//mostrarAlerta('Todos los campos son obligatorios','alerta-error');\nchangeError(true);return _context.abrupt(\"return\");case 3:changeError(false);_context.prev=4;_context.next=7;return axios.post(\"https://reqres.in/api/login\",user);case 7:res=_context.sent;saveTokenFn(res.data);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);changeUserError(true);case 14:case\"end\":return _context.stop();}}},_callee,null,[[4,11]]);}));return function onSubmitToken(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fragment,null,token===false?/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Sign In\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"eve.holt@reqres.in\",value:email,onChange:onChangePage})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,placeholder:\"Any works\",onChange:onChangePage})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"button\",className:\"btn btn-primario btn-block\",value:\"Log In\",onClick:function onClick(){return onSubmitToken();}}))),error?/*#__PURE__*/React.createElement(\"h1\",{className:\"alerta-error\"},\"All fields are required\"):null,userError?/*#__PURE__*/React.createElement(\"h1\",{className:\"alerta-error\"},\"User Incorrect\"):null)):/*#__PURE__*/React.createElement(Redirect,{to:\"/panel-users/\"}));};export default Login;","map":{"version":3,"sources":["/Users/sergiorios/Documents/Serch/VENTURE/venturev2/VentureApp/src/components/auth/Login.js"],"names":["axios","React","useState","useContext","Fragment","Redirect","userContext","Login","userCont","saveTokenFn","token","email","password","user","saveUser","error","changeError","userError","changeUserError","onChangePage","e","target","name","value","onSubmitToken","trim","post","res","data"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState, useContext, Fragment } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport userContext from \"../../context/user/userContext\";\n\nconst Login = () => {\n  const userCont = useContext(userContext);\n  const { saveTokenFn, token } = userCont;\n\n  //State\n  const [user, saveUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [error, changeError] = useState(false);\n  const [userError, changeUserError] = useState(false);\n\n  const { email, password } = user;\n\n  const onChangePage = (e) => {\n    saveUser({\n      ...user,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const onSubmitToken = async () => {\n    if (email.trim() === \"\" || password.trim() === \"\") {\n      //mostrarAlerta('Todos los campos son obligatorios','alerta-error');\n      changeError(true);\n      return;\n    }\n    changeError(false);\n    try {\n      let res = await axios.post(\"https://reqres.in/api/login\", user);\n      saveTokenFn(res.data);\n    } catch (error) {\n      changeUserError(true);\n    }\n  };\n\n  return (\n    <Fragment>\n      {token === false ? (\n        <div className=\"form-usuario\">\n          <div className=\"contenedor-form\">\n            <h1>Sign In</h1>\n\n            <form>\n              <div className=\"campo-form\">\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  placeholder=\"eve.holt@reqres.in\"\n                  value={email}\n                  onChange={onChangePage}\n                />\n              </div>\n              <div className=\"campo-form\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  value={password}\n                  placeholder=\"Any works\"\n                  onChange={onChangePage}\n                />\n              </div>\n              <div className=\"campo-form\">\n                <input\n                  type=\"button\"\n                  className=\"btn btn-primario btn-block\"\n                  value=\"Log In\"\n                  onClick={() => onSubmitToken()}\n                />\n              </div>\n            </form>\n            {error ? (\n              <h1 className=\"alerta-error\">All fields are required</h1>\n            ) : null}\n            {userError ? (\n              <h1 className=\"alerta-error\">User Incorrect</h1>\n            ) : null}\n          </div>\n        </div>\n      ) : (\n        <Redirect to=\"/panel-users/\" />\n      )}\n    </Fragment>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}